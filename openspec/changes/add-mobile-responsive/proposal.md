# 移动端全面适配

## Why

当前文档站点在 PC 端体验良好，但在移动端（手机、平板）存在严重的可用性问题，包括导航操作不便、内容排版溢出、交互体验差等。需要进行全面的响应式适配，确保在各种设备上都能提供良好的阅读和导航体验。

## Constraints (约束条件)

1. **禁止修改文档内容**: 本次改造仅针对移动端样式和布局适配，严禁修改 `docs/` 目录下任何 `.md` 文档的实际内容
2. **文件编码**: 所有新建和修改的文件必须使用 UTF-8 编码格式
3. **内容一致性**: 移动端展示的教学内容必须与 PC 端完全一致，不得隐藏、删减或改变任何文档内容
4. **仅限样式层**: 只允许添加/修改 CSS 样式文件和主题配置，不得改动文档源文件
5. **保持扩展性**: 必须保留现有 `config.mts` 的所有配置项和扩展能力，新增样式采用增量覆盖方式，不得删除或破坏原有配置结构
6. **保持配置性**: 现有的侧边栏配置、导航配置、主题配置等必须继续生效，移动端适配不得影响这些配置的正常工作

## Conflict Resolution (冲突处理)

**重要**: 在实施过程中，如果遇到以下情况，必须**立即停止**并询问用户意见：

1. 移动端样式与现有 PC 端样式产生冲突
2. 新增代码可能影响现有配置的正常工作
3. 需要修改 `config.mts` 中的现有配置项
4. 发现现有功能在移动端无法正常工作需要特殊处理
5. 任何不确定是否会破坏现有功能的改动

**处理流程**: 停止 → 描述冲突情况 → 等待用户回复 → 根据用户意见继续

## What Changes

### 1. 自定义主题层
- 创建 `docs/.vitepress/theme/` 目录，扩展默认主题
- 添加移动端专用样式文件 `mobile.css`

### 2. 导航和侧边栏优化
- 优化汉堡菜单的触摸目标尺寸（至少 44x44px）
- 改善侧边栏在移动端的层级展示和滑动体验
- 增加侧边栏的视觉反馈和过渡动画

### 3. 内容排版适配
- **代码块**: 添加水平滚动、优化字体大小、改善复制按钮位置
- **表格**: 启用水平滚动容器、优化单元格内边距
- **图片**: 设置 max-width: 100%、支持点击放大查看
- **字体**: 根据屏幕尺寸调整基准字号和行高

### 4. 交互体验增强
- 增大所有可点击元素的触摸区域
- 优化页面滚动性能（添加 scroll-behavior 和 touch-action）
- 改善链接和按钮的点击反馈

### 5. 布局断点系统
- 建立统一的断点变量（mobile/tablet/desktop）
- 确保各组件在不同断点下的平滑过渡

## Impact

- **Affected specs**: 新增 `mobile-responsive` 能力规格
- **Affected code**:
  - `docs/.vitepress/theme/` (新建)
  - `docs/.vitepress/config.mts` (可能需要微调)
- **NOT affected (禁止修改)**:
  - `docs/**/*.md` - 所有 Markdown 文档内容
  - `docs/public/` - 静态资源文件
- **Breaking changes**: 无（纯增量变更）
- **Testing**: 需要在 iPhone、Android、iPad 等设备上测试
