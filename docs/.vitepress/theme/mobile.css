/**
 * 移动端适配样式
 *
 * 所有样式通过媒体查询限定在移动端生效
 * 采用增量覆盖方式，不影响 PC 端显示
 *
 * 断点系统（与 VitePress 默认主题一致）：
 * - Mobile: < 640px
 * - Tablet: 640px - 959px
 * - Desktop: >= 960px
 */

/* ============================================
   1. 导航优化
   ============================================ */

/* 移动端导航栏 */
@media (max-width: 959px) {
  /* 汉堡菜单按钮触摸区域优化 */
  .VPNavBarHamburger {
    min-width: 44px;
    min-height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* 导航栏高度和间距 */
  .VPNav {
    height: 56px;
  }

  .VPNavBar {
    height: 56px;
  }

  .VPNavBarTitle {
    padding: 0 12px;
  }

  /* 导航栏标题字号 */
  .VPNavBarTitle .title {
    font-size: 15px;
  }
}

/* 小屏幕设备（手机） */
@media (max-width: 639px) {
  /* 进一步优化小屏幕导航 */
  .VPNavBarTitle .title {
    font-size: 14px;
  }

  /* 导航下拉菜单优化 */
  .VPNavScreenMenu {
    padding: 12px 16px;
  }

  .VPNavScreenMenuLink {
    padding: 12px 0;
    min-height: 44px;
    display: flex;
    align-items: center;
  }

  .VPNavScreenMenuGroup {
    padding: 12px 0;
  }

  .VPNavScreenMenuGroupLink {
    padding: 8px 0;
    min-height: 44px;
    display: flex;
    align-items: center;
  }
}

/* ============================================
   2. 侧边栏优化
   ============================================ */

@media (max-width: 959px) {
  /* 侧边栏链接触摸区域 */
  .VPSidebar .VPSidebarItem .item {
    padding: 8px 16px;
    min-height: 44px;
    display: flex;
    align-items: center;
  }

  /* 侧边栏链接文字 */
  .VPSidebar .VPSidebarItem .link {
    padding: 8px 0;
    min-height: 44px;
    display: flex;
    align-items: center;
  }

  /* 折叠按钮触摸区域 */
  .VPSidebar .VPSidebarItem .caret {
    min-width: 44px;
    min-height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* 侧边栏层级缩进 */
  .VPSidebar .VPSidebarItem.level-1 > .item {
    padding-left: 16px;
  }

  .VPSidebar .VPSidebarItem.level-2 > .item {
    padding-left: 28px;
  }

  .VPSidebar .VPSidebarItem.level-3 > .item {
    padding-left: 40px;
  }

  /* 侧边栏平滑滚动 */
  .VPSidebar {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }

  /* 侧边栏分组标题 */
  .VPSidebar .VPSidebarItem.is-group > .item .text {
    font-weight: 600;
    font-size: 13px;
  }
}

/* ============================================
   3. 内容排版适配
   ============================================ */

@media (max-width: 959px) {
  /* 文档内容区域 */
  .VPDoc .content-container {
    padding: 0 16px;
  }

  /* 基准字号和行高 */
  .vp-doc {
    font-size: 16px;
    line-height: 1.75;
  }

  /* 标题字号梯度 */
  .vp-doc h1 {
    font-size: 1.75rem;
    line-height: 1.3;
    margin-top: 1.5rem;
  }

  .vp-doc h2 {
    font-size: 1.4rem;
    line-height: 1.35;
    margin-top: 2rem;
    padding-top: 1rem;
  }

  .vp-doc h3 {
    font-size: 1.2rem;
    line-height: 1.4;
    margin-top: 1.5rem;
  }

  .vp-doc h4 {
    font-size: 1.1rem;
    line-height: 1.4;
  }

  .vp-doc h5,
  .vp-doc h6 {
    font-size: 1rem;
    line-height: 1.5;
  }

  /* 段落间距 */
  .vp-doc p {
    margin: 1rem 0;
  }

  /* 列表优化 */
  .vp-doc ul,
  .vp-doc ol {
    padding-left: 1.25rem;
    margin: 1rem 0;
  }

  .vp-doc li {
    margin: 0.5rem 0;
  }
}

/* 小屏幕设备额外优化 */
@media (max-width: 639px) {
  .VPDoc .content-container {
    padding: 0 12px;
  }

  .vp-doc h1 {
    font-size: 1.5rem;
  }

  .vp-doc h2 {
    font-size: 1.25rem;
  }

  .vp-doc h3 {
    font-size: 1.125rem;
  }
}

/* ============================================
   4. 代码块优化
   ============================================ */

@media (max-width: 959px) {
  /* 代码块容器 */
  .vp-doc div[class*='language-'] {
    margin: 1rem -16px;
    border-radius: 0;
  }

  /* 代码块内边距 */
  .vp-doc div[class*='language-'] > pre {
    padding: 16px;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* 代码字体大小 */
  .vp-doc div[class*='language-'] code {
    font-size: 13px;
    line-height: 1.6;
  }

  /* 内联代码 */
  .vp-doc :not(pre) > code {
    font-size: 0.9em;
    padding: 2px 6px;
    word-break: break-word;
  }

  /* 代码复制按钮位置 */
  .vp-doc div[class*='language-'] > button.copy {
    top: 8px;
    right: 8px;
    width: 36px;
    height: 36px;
  }

  /* 代码块语言标签 */
  .vp-doc div[class*='language-'] > span.lang {
    top: 6px;
    right: 48px;
    font-size: 11px;
  }
}

@media (max-width: 639px) {
  .vp-doc div[class*='language-'] {
    margin: 1rem -12px;
  }

  .vp-doc div[class*='language-'] code {
    font-size: 12px;
  }
}

/* ============================================
   5. 表格优化
   ============================================ */

@media (max-width: 959px) {
  /* 表格容器水平滚动 */
  .vp-doc table {
    display: block;
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* 表格单元格 */
  .vp-doc th,
  .vp-doc td {
    padding: 10px 12px;
    font-size: 14px;
    white-space: nowrap;
  }

  /* 表格最小宽度，防止过度压缩 */
  .vp-doc th,
  .vp-doc td {
    min-width: 80px;
  }
}

@media (max-width: 639px) {
  .vp-doc th,
  .vp-doc td {
    padding: 8px 10px;
    font-size: 13px;
  }
}

/* ============================================
   6. 图片优化
   ============================================ */

@media (max-width: 959px) {
  /* 图片自适应 */
  .vp-doc img {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 1rem auto;
  }

  /* 图片容器 */
  .vp-doc p > img {
    margin: 0.5rem 0;
  }
}

/* ============================================
   7. 引用和提示框优化
   ============================================ */

@media (max-width: 959px) {
  /* 引用块 */
  .vp-doc blockquote {
    margin: 1rem 0;
    padding: 0.75rem 1rem;
    font-size: 15px;
  }

  /* 自定义容器（提示框） */
  .vp-doc .custom-block {
    margin: 1rem -16px;
    padding: 16px;
    border-radius: 0;
  }

  .vp-doc .custom-block .custom-block-title {
    font-size: 15px;
  }

  .vp-doc .custom-block p {
    font-size: 14px;
    line-height: 1.6;
  }
}

@media (max-width: 639px) {
  .vp-doc .custom-block {
    margin: 1rem -12px;
    padding: 12px;
  }
}

/* ============================================
   8. 交互增强
   ============================================ */

@media (max-width: 959px) {
  /* 链接触摸区域 */
  .vp-doc a {
    padding: 2px 0;
  }

  /* 按钮点击反馈 */
  .VPButton {
    min-height: 44px;
    transition: transform 0.1s ease, opacity 0.1s ease;
  }

  .VPButton:active {
    transform: scale(0.98);
    opacity: 0.9;
  }

  /* 搜索按钮 */
  .VPNavBarSearch .DocSearch-Button {
    min-height: 44px;
  }

  /* 全局平滑滚动 */
  html {
    scroll-behavior: smooth;
  }

  /* 触摸滚动优化 */
  .VPContent {
    -webkit-overflow-scrolling: touch;
  }
}

/* ============================================
   9. 首页适配
   ============================================ */

@media (max-width: 959px) {
  /* Hero 区域 */
  .VPHero {
    padding: 48px 24px;
  }

  .VPHero .name {
    font-size: 2rem;
    line-height: 1.2;
  }

  .VPHero .text {
    font-size: 1.25rem;
    line-height: 1.4;
  }

  .VPHero .tagline {
    font-size: 1rem;
    line-height: 1.5;
  }

  /* Hero 按钮 */
  .VPHero .actions {
    flex-direction: column;
    gap: 12px;
    margin-top: 24px;
  }

  .VPHero .action {
    width: 100%;
  }

  .VPHero .VPButton {
    width: 100%;
    padding: 12px 24px;
  }

  /* Features 区域 */
  .VPFeatures {
    padding: 24px 16px;
  }

  .VPFeatures .container {
    max-width: 100%;
  }

  .VPFeatures .items {
    flex-direction: column;
    gap: 16px;
  }

  .VPFeatures .item {
    width: 100%;
    padding: 0;
  }

  /* Feature 卡片 */
  .VPFeature {
    padding: 20px;
  }

  .VPFeature .title {
    font-size: 16px;
  }

  .VPFeature .details {
    font-size: 14px;
    line-height: 1.6;
  }
}

@media (max-width: 639px) {
  .VPHero {
    padding: 32px 16px;
  }

  .VPHero .name {
    font-size: 1.75rem;
  }

  .VPHero .text {
    font-size: 1.125rem;
  }

  .VPFeatures {
    padding: 20px 12px;
  }

  .VPFeature {
    padding: 16px;
  }
}

/* ============================================
   10. 页脚优化
   ============================================ */

@media (max-width: 959px) {
  .VPFooter {
    padding: 24px 16px;
  }

  .VPFooter .message,
  .VPFooter .copyright {
    font-size: 13px;
  }
}

/* ============================================
   11. 文档页脚导航
   ============================================ */

@media (max-width: 959px) {
  /* 上一页/下一页导航 */
  .VPDocFooter .pager {
    flex-direction: column;
    gap: 12px;
  }

  .VPDocFooter .pager-link {
    width: 100%;
    padding: 16px;
    min-height: 60px;
  }

  .VPDocFooter .pager-link .title {
    font-size: 14px;
  }

  .VPDocFooter .pager-link .desc {
    font-size: 12px;
  }
}

/* ============================================
   12. 本地搜索弹窗
   ============================================ */

@media (max-width: 959px) {
  /* 搜索弹窗全屏 */
  .VPLocalSearchBox .shell {
    max-width: 100%;
    max-height: 100%;
    border-radius: 0;
  }

  /* 搜索输入框 */
  .VPLocalSearchBox .search-input {
    font-size: 16px; /* 防止 iOS 缩放 */
    padding: 12px 16px;
  }

  /* 搜索结果项 */
  .VPLocalSearchBox .result {
    padding: 12px 16px;
    min-height: 44px;
  }
}

/* ============================================
   13. 大纲导航（目录）
   ============================================ */

@media (max-width: 959px) {
  /* 移动端目录下拉 */
  .VPLocalNavOutlineDropdown {
    min-height: 44px;
  }

  .VPLocalNavOutlineDropdown button {
    min-height: 44px;
    padding: 8px 12px;
  }

  /* 目录项 */
  .VPDocAsideOutline .outline-link {
    padding: 6px 0;
    font-size: 13px;
    min-height: 36px;
    display: flex;
    align-items: center;
  }
}
